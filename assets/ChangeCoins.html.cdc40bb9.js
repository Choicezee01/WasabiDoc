import{_ as c,r as s,o as r,c as d,a as e,d as n,w as a,b as t,e as o}from"./app.0e54f3fb.js";const l={},u=e("h1",{id:"change-coins",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#change-coins","aria-hidden":"true"},"#"),t(" Change coins")],-1),y={class:"table-of-contents"},g=o('<h2 id="types-of-change" tabindex="-1"><a class="header-anchor" href="#types-of-change" aria-hidden="true">#</a> Types of change</h2><h3 id="non-coinjoin-change" tabindex="-1"><a class="header-anchor" href="#non-coinjoin-change" aria-hidden="true">#</a> Non-Coinjoin change</h3><p>Let&#39;s assume you want to send 0.5 bitcoin to Alice. You enter Alice&#39;s address in the <code>To</code> field (destination address), and set the <code>Amount</code> to 0.5 BTC. This will be one output of the transaction.</p><p>Since your chosen UTXO is worth 2 bitcoins, after sending 0.5 bitcoin to Alice there will be 1.5 bitcoins change from the original amount. This leftover amount will automatically go to a new address in your wallet, and this is called the change output.</p><p>This leftover 1.5 bitcoins change UTXO is connected to the input UTXO of the transaction, and thus also has an <code>anonymity set</code> of 1. As a result, when you send this leftover/change coin in a new transaction, it is clear to any observer that you were part of the transaction that sent 0.5 bitcoin to someone.</p><p>This process is applicable to any Bitcoin transaction where the <em>sent</em> amount is less than the total value of the input UTXO.</p><h3 id="coinjoin-change" tabindex="-1"><a class="header-anchor" href="#coinjoin-change" aria-hidden="true">#</a> Coinjoin change</h3><p>In some few cases, especially for the wealthiest user of a coinjoin, there will be an <code>anonymity score 1</code> output in a coinjoin transaction. Eventhough it is not trivial to link those to the inputs of the same user, they should be handled with care. Wasabi will not automatically spend those change coins in a payment, but instead register them again in a future coinjoin round.</p><h2 id="why-change-is-an-issue" tabindex="-1"><a class="header-anchor" href="#why-change-is-an-issue" aria-hidden="true">#</a> Why change is an issue</h2><p>Change is not inherently bad, it&#39;s a fundamental part of how Bitcoin and the UTXO model works. However, when sending a coin that is change from an earlier transaction, then the receiver can easily deduce that the sender was also part of the previous transaction that generated the change.</p>',10),p=o('<p>You want to avoid merging coins with different anonymity set values whenever possible, because this will link these coins and reduce their anonymity set to the lowest value.</p><h2 id="your-options-to-use-change-privately" tabindex="-1"><a class="header-anchor" href="#your-options-to-use-change-privately" aria-hidden="true">#</a> Your options to use change privately</h2><h3 id="avoid-change-in-the-first-place" tabindex="-1"><a class="header-anchor" href="#avoid-change-in-the-first-place" aria-hidden="true">#</a> Avoid change in the first place</h3><p>Whenever possible, choose UTXO&#39;s for transactions where the destination addresses receive the entire value of your UTXO&#39;s, and you don&#39;t get any change back. This can easily be done by clicking the shield icon in the top right corner of the transaction preview screen, and adjusting the payment amount to be slightly higher or lower. This might not be possible in some cases where you have to pay a specific value of a payment request.</p><h3 id="make-it-difficult-to-deduce-the-change" tabindex="-1"><a class="header-anchor" href="#make-it-difficult-to-deduce-the-change" aria-hidden="true">#</a> Make it difficult to deduce the change</h3>',5),f=o('<h3 id="spend-the-change-to-the-same-entity-as-in-the-initial-transaction" tabindex="-1"><a class="header-anchor" href="#spend-the-change-to-the-same-entity-as-in-the-initial-transaction" aria-hidden="true">#</a> Spend the change to the same entity as in the initial transaction</h3><p>If in the first transaction you have 0.10 bitcoin and send Alice 0.04 bitcoin, you get 0.06 bitcoin back as change in a new address, which Alice can see belongs to you. Now, in a second transaction where you want to send Alice 0.05 bitcoin, you can select that 0.06 bitcoin change coin without losing any privacy, because Alice already knows this is your coin.</p><p>In this second transaction you will get back 0.01 bitcoin as change, which again, will still be known to Alice. If in a third transaction you want to send Alice 0.02 bitcoin, then you can consolidate the 0.01 bitcoin change with a new 0.10 bitcoin mixed coin, thus getting 0.09 bitcoin change.</p><p>Now Alice will know that you owned the 0.10 bitcoin and that you currently own the 0.09 bitcoin change, but she cannot find out about your premix transaction history.</p><p>Wasabi will automatically check if you have a coin with the same label for the current payment recipient, and will use those coins to be spent.</p><h3 id="spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity" tabindex="-1"><a class="header-anchor" href="#spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity" aria-hidden="true">#</a> Spend the change with another entity, where you don&#39;t mind if each of the two know that you transact with the other entity</h3><p>When you send a transaction to Alice, then she knows that the change output goes back to you. You can use this change to send bitcoin to Bob, and if he has bad privacy habits, Alice can find out you sent to him. But if you have a trusted relationship with the two, then this is alright, and not part of your threat model.</p><h3 id="coinjoin-more" tabindex="-1"><a class="header-anchor" href="#coinjoin-more" aria-hidden="true">#</a> Coinjoin more</h3><p>Since Wasabi 2.0 has a minimum amount for coinjoin of only 5000 sats, any change coin with an amount larger than that will be registered in a future coinjoin round. If you wait long enough, Wasabi will make sure that you don&#39;t have any anonscore 1 change coin in your wallet, but only private coins not linked to any previous payment.</p>',9);function w(m,b){const i=s("router-link"),h=s("RouterLink");return r(),d("div",null,[u,e("nav",y,[e("ul",null,[e("li",null,[n(i,{to:"#types-of-change"},{default:a(()=>[t("Types of change")]),_:1}),e("ul",null,[e("li",null,[n(i,{to:"#non-coinjoin-change"},{default:a(()=>[t("Non-Coinjoin change")]),_:1})]),e("li",null,[n(i,{to:"#coinjoin-change"},{default:a(()=>[t("Coinjoin change")]),_:1})])])]),e("li",null,[n(i,{to:"#why-change-is-an-issue"},{default:a(()=>[t("Why change is an issue")]),_:1})]),e("li",null,[n(i,{to:"#your-options-to-use-change-privately"},{default:a(()=>[t("Your options to use change privately")]),_:1}),e("ul",null,[e("li",null,[n(i,{to:"#avoid-change-in-the-first-place"},{default:a(()=>[t("Avoid change in the first place")]),_:1})]),e("li",null,[n(i,{to:"#make-it-difficult-to-deduce-the-change"},{default:a(()=>[t("Make it difficult to deduce the change")]),_:1})]),e("li",null,[n(i,{to:"#spend-the-change-to-the-same-entity-as-in-the-initial-transaction"},{default:a(()=>[t("Spend the change to the same entity as in the initial transaction")]),_:1})]),e("li",null,[n(i,{to:"#spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity"},{default:a(()=>[t("Spend the change with another entity, where you don't mind if each of the two know that you transact with the other entity")]),_:1})]),e("li",null,[n(i,{to:"#coinjoin-more"},{default:a(()=>[t("Coinjoin more")]),_:1})])])])])]),g,e("p",null,[t("Whenever you are merging coins in one transaction, it becomes clear to any outside observer that these coins belong to the same entity, thus linking the previous transaction history. Thus "),n(h,{to:"/why-wasabi/Coins.html#heuristics-identifying-change"},{default:a(()=>[t("identifying change")]),_:1}),t(" based on some heuristics is a top goal of transaction surveillance.")]),p,e("p",null,[t("There are "),n(h,{to:"/why-wasabi/Coins.html#heuristics-identifying-change"},{default:a(()=>[t("common heuristics identifying change outputs")]),_:1}),t(", try to avoid these with every transaction. Don't reuse addresses, don't send precise amounts but randomize them, don't use replace by fee, and try to send to bech32 or bech32m addresses.")]),f])}const _=c(l,[["render",w],["__file","ChangeCoins.html.vue"]]);export{_ as default};
