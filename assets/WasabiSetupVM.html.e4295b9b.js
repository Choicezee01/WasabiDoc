import{_ as u,r,o as d,c,a as e,d as n,w as s,b as a,e as o}from"./app.310ca2a9.js";const p="/Virtualbox.png",h={},m=e("h1",{id:"wasabi-setup-in-virtual-machines",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wasabi-setup-in-virtual-machines","aria-hidden":"true"},"#"),a(" Wasabi Setup in Virtual Machines")],-1),b={class:"table-of-contents"},v=o('<h2 id="benefits-of-virtual-machines" tabindex="-1"><a class="header-anchor" href="#benefits-of-virtual-machines" aria-hidden="true">#</a> Benefits of Virtual Machines</h2><p>Virtualization allows you to create and run as many virtual machines (VMs) on a single computer at one time as desired. The only constraints are the amount of RAM and hard disk space available on the host computer.</p><p>Each VM is isolated from the host machine. Therefore, such things as corrupted files, configuration errors, malware, etc., encountered during the use of a VM do not affect the host computer.</p><p>If you are a developer, using virtual machines gives you several powerful features. You can easily:</p><ul><li><p>Create snapshots of a VM&#39;s state at any time. These snapshots can be restored later if a problem or undesired condition arises in the current state of the VM.</p></li><li><p>Set up a template VM with a desired development environment or configuration, and then quickly create lightweight, disposable clones of the template for specific tests.</p></li><li><p>Develop and/or test applications in Windows, Linux, and macOS at the same time, on the same computer. You can link them together in a customizable internal network if desired.</p></li></ul><p>For developers, the use of virtual machines offers some of the basic version control features of git but applied to operating systems rather than files or projects.</p><h2 id="qubes" tabindex="-1"><a class="header-anchor" href="#qubes" aria-hidden="true">#</a> Qubes</h2>',7),f={href:"https://www.qubes-os.org/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.qubes-os.org/downloads/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://www.qubes-os.org/doc/installation-guide/",target:"_blank",rel:"noopener noreferrer"},k=e("h3",{id:"generate-template-vm",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#generate-template-vm","aria-hidden":"true"},"#"),a(" Generate Template VM")],-1),_=e("code",null,"dom0",-1),y=o(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-clone template-debian-10 template-wasabi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="install-dependencies" tabindex="-1"><a class="header-anchor" href="#install-dependencies" aria-hidden="true">#</a> Install Dependencies</h3><p>Start the gnome-terminal of <code>template-wasabi</code>.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-run <span class="token parameter variable">-a</span> template-wasabi gnome-terminal
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Update the <code>template-wasabi</code>.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@template-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token punctuation">[</span>user@template-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> upgrade
<span class="token punctuation">[</span>user@template-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> dist-upgrade
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),x={href:"https://dotnet.microsoft.com/download",target:"_blank",rel:"noopener noreferrer"},V=e("code",null,"template-wasabi",-1),M=o(`<div class="custom-container tip"><p class="custom-container-title">Optional for privacy</p><p>You can disable .NET&#39;s telemetry, which is sending some usage information to Microsoft:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@template-wasabi ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_CLI_TELEMETRY_OPTOUT</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><p>If you need to update .NET, then do it in this VM. Now shut down <code>template-wasabi</code>.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-shutdown template-wasabi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="generate-app-vm" tabindex="-1"><a class="header-anchor" href="#generate-app-vm" aria-hidden="true">#</a> Generate App VM</h3><p>Create a new App VM <code>source-wasabi</code> which is based on <code>template-wasabi</code>. This qube will be used to download, compile and run the Wasabi source code. This way you can create multiple App VMs for different testing purposes. All these App VMs will be updated when you update <code>template-wasabi</code>.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-create source-wasabi <span class="token parameter variable">--template</span> template-wasabi <span class="token parameter variable">--label</span> red
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="compile-and-run-wasabi" tabindex="-1"><a class="header-anchor" href="#compile-and-run-wasabi" aria-hidden="true">#</a> Compile and Run Wasabi</h3><p>Start the gnome-terminal of <code>source-wasabi</code>.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-run <span class="token parameter variable">-a</span> source-wasabi gnome-terminal
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Clone &amp; run Wasabi.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">git</span> clone https://github.com/zkSNACKs/WalletWasabi.git
<span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> WalletWasabi/WalletWasabi.Fluent.Desktop
<span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ dotnet run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Check out a developer branch.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">git</span> remote <span class="token function">add</span> nopara73 https://github.com/nopara73/WalletWasabi
<span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">git</span> fetch nopara73
<span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">git</span> checkout <span class="token operator">&lt;</span>development branch<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Pull the latest commits.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@source-wasabi ~<span class="token punctuation">]</span>$ <span class="token function">git</span> pull
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="install-package-in-app-vm" tabindex="-1"><a class="header-anchor" href="#install-package-in-app-vm" aria-hidden="true">#</a> Install Package in App VM</h3><p>Alternatively, you can also install the package in a new App VM, this is a stable version suitable to use on mainnet and is separated from the development App VM. There are no additional dependencies required, so the App VM can be based on <code>template-debian-10</code> directly.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-create package-wasabi <span class="token parameter variable">--template</span> template-debian-10 <span class="token parameter variable">--label</span> red
<span class="token punctuation">[</span>user@dom0 ~<span class="token punctuation">]</span>$ qvm-run <span class="token parameter variable">-a</span> package-wasabi gnome-terminal
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,18),W=e("code",null,"Wasabi-2.0.4.deb",-1),T=e("code",null,"package-wasabi",-1),q=o(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>user@package-wasabi ~<span class="token punctuation">]</span>$ wassabee
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="virtualbox" tabindex="-1"><a class="header-anchor" href="#virtualbox" aria-hidden="true">#</a> VirtualBox</h2>`,2),S={href:"https://virtualbox.org",target:"_blank",rel:"noopener noreferrer"},$=e("p",null,"Presently, VirtualBox runs on Windows, Linux, Macintosh, and Solaris hosts and supports a large number of guest operating systems including, but not limited to Windows (NT 4.0, 2000, XP, Server 2003, Vista, Windows 7, Windows 8, Windows 10), DOS/Windows 3.x, Linux (2.4, 2.6, 3.x and 4.x), Solaris and OpenSolaris, OS/2, and OpenBSD.",-1),I={href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"},C=e("p",null,"Make sure that you also download the VirtualBox Extension Pack, shown just below the links for downloading the binary installation files. This package will add several useful capabilities to VirtualBox.",-1),B=e("p",null,[e("img",{src:p,alt:"Wasabi Wallet Virtualbox",title:"Wasabi Wallet virtualbox"})],-1),O={href:"https://www.virtualbox.org/manual/UserManual.html#installation",target:"_blank",rel:"noopener noreferrer"},A={href:"https://download.virtualbox.org/virtualbox/UserManual.pdf",target:"_blank",rel:"noopener noreferrer"},N=e("h3",{id:"create-your-first-virtual-machine",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#create-your-first-virtual-machine","aria-hidden":"true"},"#"),a(" Create Your First Virtual Machine")],-1),D={href:"https://www.virtualbox.org/manual/UserManual.html#create-vm-wizard",target:"_blank",rel:"noopener noreferrer"},E=e("p",null,[e("strong",null,"Things to Note:")],-1),L=e("ul",null,[e("li",null,[e("p",null,"For each operating system version that you wish to use in a VM, you will need an .iso installation file for that particular OS.")]),e("li",null,[e("p",null,`During the installation process for whatever OS you have chosen for your VM, you will likely see references to your hard disk and/or Master Boot Record. Be assured that those references are pertaining to your "virtual" hard drive and/or boot records that are a part of the VM. They are NOT referring to your computer's physical drive or boot records.`)])],-1),P=e("p",null,"Other than the creation of a folder which holds the data for each VM that you may create, your physical hard drive and/or boot records will not be altered or harmed by the installation of an OS inside the VM.",-1),R={href:"https://www.virtualbox.org/manual/UserManual.html#guestadd-intro",target:"_blank",rel:"noopener noreferrer"},Y=e("h3",{id:"generate-a-template-vm",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#generate-a-template-vm","aria-hidden":"true"},"#"),a(" Generate a Template VM")],-1),z=e("p",null,"It's now time to start customizing your development templates! Make sure that you have run any needed updates for your VM.",-1),G=e("p",null,"With VirtualBox, you can create separate templates based on Windows or any Linux distribution. Finally, you can add any other tools that you prefer, such as Visual Studio / Visual Studio Code, Atom, etc..",-1),U=e("h3",{id:"install-required-dependencies",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#install-required-dependencies","aria-hidden":"true"},"#"),a(" Install Required Dependencies")],-1),F=e("p",null,"Start your template VM and open a terminal window.",-1),Q={href:"https://dotnet.microsoft.com/download",target:"_blank",rel:"noopener noreferrer"},j=o(`<div class="custom-container tip"><p class="custom-container-title">Optional for privacy</p><p>You can disable .NET&#39;s telemetry, which is sending some usage information to Microsoft. In your terminal window, run:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>your@vm:~$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">DOTNET_CLI_TELEMETRY_OPTOUT</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><p>If you need to update .NET, do it in this VM.</p><p>Now, shut down your template VM.</p><h3 id="cloning-a-virtual-machine" tabindex="-1"><a class="header-anchor" href="#cloning-a-virtual-machine" aria-hidden="true">#</a> Cloning a Virtual Machine</h3><p>At this point, you should have a Template VM set up with your preferred tools and environment.</p><p>Now the real fun begins, and you will be rewarded for all of your hard work to get to this point!</p><p>VirtualBox will allow you to make as many lightweight, or &quot;linked&quot; clones from a template as you may need. &quot;Linked&quot; means that the vast majority of the system files are borrowed from the template VM while the clone is running, so that the clone takes up much, much less hard drive space.</p><p>Any changes to the clone VM, constructive or destructive, do not affect the template VM. You may think of a linked clone as a &quot;disposable&quot; copy of your template. Perfect for experimentation, with no risk to your template or your computer!</p><h3 id="how-to-create-a-linked-clone" tabindex="-1"><a class="header-anchor" href="#how-to-create-a-linked-clone" aria-hidden="true">#</a> How to Create a Linked Clone</h3>`,9),K={href:"https://www.virtualbox.org/manual/UserManual.html#clone",target:"_blank",rel:"noopener noreferrer"},H=o(`<h3 id="compile-and-run-wasabi-in-your-vm" tabindex="-1"><a class="header-anchor" href="#compile-and-run-wasabi-in-your-vm" aria-hidden="true">#</a> Compile and Run Wasabi in Your VM</h3><p>Start your cloned VM, and open a terminal window.</p><p>Clone &amp; run Wasabi.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>your@vm:~$ <span class="token function">git</span> clone https://github.com/zkSNACKs/WalletWasabi.git
your@vm:~$ <span class="token builtin class-name">cd</span> WalletWasabi/WalletWasabi.Fluent.Desktop
your@vm:~$ dotnet run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Check out a developer branch.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>your@vm:~$ <span class="token function">git</span> remote <span class="token function">add</span> nopara73 https://github.com/nopara73/WalletWasabi
your@vm:~$ <span class="token function">git</span> fetch nopara73
your@vm:~$ <span class="token function">git</span> checkout <span class="token operator">&lt;</span>development branch<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Pull the latest commits.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>your@vm:~$ <span class="token function">git</span> pull
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,8),X={href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"},J=e("h3",{id:"install-latest-package",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#install-latest-package","aria-hidden":"true"},"#"),a(" Install Latest Package")],-1),Z=e("p",null,"Alternatively, you can also install the package in a new VM. This is a stable version suitable to use on mainnet and is separated from the development VM. There are no additional dependencies required to run this version.",-1),ee=e("code",null,"Wasabi-2.0.4",-1),ae=e("p",null,[e("strong",null,"Have fun, and please consider contributing to the Wasabi project!")],-1);function ne(se,te){const t=r("router-link"),i=r("ExternalLinkIcon"),l=r("RouterLink");return d(),c("div",null,[m,e("nav",b,[e("ul",null,[e("li",null,[n(t,{to:"#benefits-of-virtual-machines"},{default:s(()=>[a("Benefits of Virtual Machines")]),_:1})]),e("li",null,[n(t,{to:"#qubes"},{default:s(()=>[a("Qubes")]),_:1}),e("ul",null,[e("li",null,[n(t,{to:"#generate-template-vm"},{default:s(()=>[a("Generate Template VM")]),_:1})]),e("li",null,[n(t,{to:"#install-dependencies"},{default:s(()=>[a("Install Dependencies")]),_:1})]),e("li",null,[n(t,{to:"#generate-app-vm"},{default:s(()=>[a("Generate App VM")]),_:1})]),e("li",null,[n(t,{to:"#compile-and-run-wasabi"},{default:s(()=>[a("Compile and Run Wasabi")]),_:1})]),e("li",null,[n(t,{to:"#install-package-in-app-vm"},{default:s(()=>[a("Install Package in App VM")]),_:1})])])]),e("li",null,[n(t,{to:"#virtualbox"},{default:s(()=>[a("VirtualBox")]),_:1}),e("ul",null,[e("li",null,[n(t,{to:"#create-your-first-virtual-machine"},{default:s(()=>[a("Create Your First Virtual Machine")]),_:1})]),e("li",null,[n(t,{to:"#generate-a-template-vm"},{default:s(()=>[a("Generate a Template VM")]),_:1})]),e("li",null,[n(t,{to:"#install-required-dependencies"},{default:s(()=>[a("Install Required Dependencies")]),_:1})]),e("li",null,[n(t,{to:"#cloning-a-virtual-machine"},{default:s(()=>[a("Cloning a Virtual Machine")]),_:1})]),e("li",null,[n(t,{to:"#how-to-create-a-linked-clone"},{default:s(()=>[a("How to Create a Linked Clone")]),_:1})]),e("li",null,[n(t,{to:"#compile-and-run-wasabi-in-your-vm"},{default:s(()=>[a("Compile and Run Wasabi in Your VM")]),_:1})]),e("li",null,[n(t,{to:"#install-latest-package"},{default:s(()=>[a("Install Latest Package")]),_:1})])])])])]),v,e("p",null,[e("a",f,[a("Qubes"),n(i)]),a(" is a free and open-source security-oriented operating system meant for single-user desktop computing. Qubes OS leverages xen-based virtualization to allow for the creation and management of isolated virtual machines (VMs) called qubes. This is valuable for users of high security software like Wasabi Wallet, and especially useful for testers of cutting edge developer branches. There is a separation of the virtual machines running Wasabi on testnet, and those running on mainnet with valuable private keys. If a reviewer compiles a malicious developer branch, then his mainnet private keys are secure in a different qube.")]),e("p",null,[a("This is a step-by-step guide on how to properly compile Wasabi Wallet from source in independent qubes. For tutorials on how to "),e("a",g,[a("download"),n(i)]),a(" and "),e("a",w,[a("install"),n(i)]),a(" Qubes, please see their exhaustive documentation.")]),k,e("p",null,[a("The dependencies to "),n(l,{to:"/using-wasabi/BuildSource.html"},{default:s(()=>[a("compile Wasabi from source")]),_:1}),a(" will be downloaded and installed in a new template VM, which is generated by cloning the Debian template from the "),_,a(" terminal.")]),y,e("p",null,[a("Install "),e("a",x,[a(".NET 7.0 SDK"),n(i)]),a(' for "Build apps" in '),V,a(".")]),M,e("p",null,[n(l,{to:"/using-wasabi/InstallPackage.html#debian-and-ubuntu"},{default:s(()=>[a("Download, verify and install")]),_:1}),a(" the latest "),W,a(" package in "),T,a(", then start Wasabi.")]),q,e("p",null,[e("a",S,[a("VirtualBox"),n(i)]),a(' is a lightweight, powerful free and open-source virtualization tool that allows you to run one or more independent operating systems as "virtual machines" (VMs) on your computer. The computer on which VirtualBox is installed is referred to as the "host" machine, and the VMs that are created are referred to as "guests".')]),$,e("p",null,[a("You can download the latest Virtualbox binary for your host OS "),e("a",I,[a("here"),n(i)]),a(".")]),C,B,e("p",null,[a("Detailed instructions for installing VirtualBox on your host computer can be found "),e("a",O,[a("here"),n(i)]),a(".")]),e("p",null,[a("If you run into trouble or have special requirements, the complete User Manual can be found "),e("a",A,[a("here"),n(i)]),a(".")]),N,e("p",null,[a("Detailed instructions for creating various types of virtual machines can be found "),e("a",D,[a("here"),n(i)]),a(".")]),E,L,P,e("ul",null,[e("li",null,[a('Optional, but strongly recommended: Enable the built-in "Guest Additions" functions of Virtualbox. This step will give you a full-sized display, and make the usage of your mouse seamless when switching between different VMs that are running at the same time. Instruction for enabling "Guest Additions" can be found '),e("a",R,[a("here"),n(i)]),a(".")])]),Y,z,e("p",null,[a("Next, the dependencies to "),n(l,{to:"/using-wasabi/BuildSource.html"},{default:s(()=>[a("compile Wasabi from source")]),_:1}),a(" will be downloaded and installed in a new template VM, which can be based on your preferred OS.")]),G,U,F,e("p",null,[a("Install "),e("a",Q,[a(".NET 7.0 SDK"),n(i)]),a(' for "Build apps".')]),j,e("p",null,[a("Instructions on how to create linked clones in VirtualBox can be found "),e("a",K,[a("here"),n(i)]),a(".")]),H,e("p",null,[a("If you are comfortable with "),e("a",X,[a("Git"),n(i)]),a(", you can now have several versions of Wasabi running for testing purposes, at the same time, on the same computer.")]),J,Z,e("p",null,[n(l,{to:"/using-wasabi/InstallPackage.html"},{default:s(()=>[a("Download, verify and install")]),_:1}),a(" the latest "),ee,a(" package in your VM, then start Wasabi.")]),ae])}const oe=u(h,[["render",ne],["__file","WasabiSetupVM.html.vue"]]);export{oe as default};
