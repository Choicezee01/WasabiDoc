import{_ as d}from"./WalletSynchronizing.d188367c.js";import{_ as c,r as i,o as h,c as u,a as e,d as a,w as o,b as t,e as s}from"./app.aa5e8faf.js";const f="/WalletOpen.png",p={},b=e("h1",{id:"wallet-load",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wallet-load","aria-hidden":"true"},"#"),t(" Wallet Load")],-1),w={class:"table-of-contents"},y=e("h2",{id:"loading-wallet-step-by-step",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#loading-wallet-step-by-step","aria-hidden":"true"},"#"),t(" Loading wallet step-by-step")],-1),_=e("p",null,"To load a wallet and start the synchonization process, you need to open your wallet by typing in the password. The first time synchronization of your wallet might take some time depending on the size of its history.",-1),m=e("h3",{id:"wallet-list",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wallet-list","aria-hidden":"true"},"#"),t(" Wallet list")],-1),g=e("code",null,"Wallet list",-1),k=s('<p>Click the wallet you want to view, type in the password and press <code>Open</code>.</p><p><img src="'+f+'" alt="Type your password to open the wallet" title="Type your password to open the wallet"></p><h2 id="synchronization" tabindex="-1"><a class="header-anchor" href="#synchronization" aria-hidden="true">#</a> Synchronization</h2><h3 id="filter-download" tabindex="-1"><a class="header-anchor" href="#filter-download" aria-hidden="true">#</a> Filter download</h3>',4),v={href:"https://github.com/bitcoin/bips/blob/master/bip-0158.mediawiki",target:"_blank",rel:"noopener noreferrer"},W=s('<p><img src="'+d+'" alt="Wallet is synchronizing itself with the Bitcoin network" title="Wallet is synchronizing itself with the Bitcoin network"></p><h3 id="filter-scanning" tabindex="-1"><a class="header-anchor" href="#filter-scanning" aria-hidden="true">#</a> Filter scanning</h3><p>When you load a wallet, it checks if the generated addresses within the gap limit hit against a block filter. Most filters do not hit, and then the wallet is certain that this block does not contain a transaction of yours so it will not download it. If a transaction of yours is in a block, then the corresponding filter will always be hit, and the wallet will know this is a relevant block for you. There can be a small chance for a false positive where the filter matches, but the block actually does not contain a transaction.</p><h3 id="block-download" tabindex="-1"><a class="header-anchor" href="#block-download" aria-hidden="true">#</a> Block download</h3>',4),x=e("h3",{id:"turbosync",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#turbosync","aria-hidden":"true"},"#"),t(" TurboSync")],-1),z={href:"https://github.com/zkSNACKs/WalletWasabi/releases/tag/v2.0.4",target:"_blank",rel:"noopener noreferrer"},T=e("em",null,"TurboSync",-1),B=e("em",null,"TurboSync",-1),S=s('<p>During a coinjoin, a new address (key) has to be generated for each output. As a result, wallets that use the coinjoin service a lot have a quickly growing set of generated addresses. This is a problem for wallet synchronization: each address has to be tested against each filter, with a small probability of matching as false-positive for every address. As a result, wallets with many derived addresses will have to download many false-positive blocks, making the synchronization more time consuming.</p><p>It leverages a simple heuristic: addresses used as coinjoin outputs or as change (internal keys) should only be used once. In other terms, once an internal address has been used to receive a coin and then this coin was used as input in a new transaction (the coin has been spent), the address should never be used again, and there is no need to test it against the remaining filters.</p><p>Wallets coinjoining a lot will benefit the most from this feature, as the vast majority of their addresses will be skipped, reducing the number of blocks to download because of false-positive matches.</p><p>Once the wallet is opened, the skipped addresses will be tested in the background, in the case that some funds have been received on those addresses. Users in that edge case would see their balance update automatically after some time. Once done the message <code>Wallet is fully synchronized.</code> is written to the logs file to indicate that the verification process has finished.</p><div class="custom-container tip"><p class="custom-container-title">You can disable it!</p><p>TurboSync feature shouldn&#39;t cause any problem, but you might want to disable it to debug potential issues with the synchronization of your wallet. In that case, go to your wallet file (search for <code>Wallet Folder</code> using Wasabi&#39;s searchbar then open the file corresponding to your wallet) and set <code>UseTurboSync</code> to <code>false</code>.</p></div>',5);function I(L,F){const n=i("router-link"),l=i("RouterLink"),r=i("ExternalLinkIcon");return h(),u("div",null,[b,e("nav",w,[e("ul",null,[e("li",null,[a(n,{to:"#loading-wallet-step-by-step"},{default:o(()=>[t("Loading wallet step-by-step")]),_:1}),e("ul",null,[e("li",null,[a(n,{to:"#wallet-list"},{default:o(()=>[t("Wallet list")]),_:1})])])]),e("li",null,[a(n,{to:"#synchronization"},{default:o(()=>[t("Synchronization")]),_:1}),e("ul",null,[e("li",null,[a(n,{to:"#filter-download"},{default:o(()=>[t("Filter download")]),_:1})]),e("li",null,[a(n,{to:"#filter-scanning"},{default:o(()=>[t("Filter scanning")]),_:1})]),e("li",null,[a(n,{to:"#block-download"},{default:o(()=>[t("Block download")]),_:1})]),e("li",null,[a(n,{to:"#turbosync"},{default:o(()=>[t("TurboSync")]),_:1})])])])])]),y,_,m,e("p",null,[t("On the left side of Wasabi Wallet is the "),g,t(", where you see an alphabetically sorted list of all the previously "),a(l,{to:"/using-wasabi/WalletGeneration.html"},{default:o(()=>[t("generated")]),_:1}),t(" wallets.")]),k,e("p",null,[t("As soon as you start Wasabi, it connects to the backend server with a new Tor identity and requests the "),e("a",v,[t("BIP 158 block filters"),a(r)]),t(". At the first start, this can take a while because all filters need to be downloaded, but for the subsequent starts, this is faster as only the most recent filters are requested.")]),W,e("p",null,[t("When a block filter hits, either a true match or a false positive, then this block is important for you, so the wallet will download it. If you have "),a(l,{to:"/using-wasabi/BitcoinFullNode.html"},{default:o(()=>[t("a Bitcoin full node connected")]),_:1}),t(", then it will fetch the verified block locally. If not, then Wasabi will connect to a random Bitcoin P2P node with a new Tor identity, request only this block for download, and then disconnect. In this step, your Wasabi behaves like any other full node, and cannot be differentiated.")]),x,e("p",null,[t("Since Wasabi version "),e("a",z,[t("2.0.4"),a(r)]),t(" a new feature is added called "),T,t(". "),B,t(" leads to a significant reduction of wallet loading time, especially for a big wallet.")]),S])}const q=c(p,[["render",I],["__file","WalletLoad.html.vue"]]);export{q as default};
