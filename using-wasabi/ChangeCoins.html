<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Change Coins | Wasabi Docs</title>
    <meta name="description" content="Details about the privacy of different types of change and strategies for using them. This is the Wasabi documentation, an archive of knowledge about the open-source, non-custodial and privacy-focused Bitcoin wallet for desktop.">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#211b24">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Playfair+Display:700&amp;display=swap">
  <meta name="msapplication-TileColor" content="#211b24">
  <meta name="theme-color" content="#211b24">
    
    <link rel="preload" href="/assets/css/0.styles.b1b38d49.css" as="style"><link rel="preload" href="/assets/js/app.7dd49773.js" as="script"><link rel="preload" href="/assets/js/3.b572bdb5.js" as="script"><link rel="preload" href="/assets/js/30.5ca1d111.js" as="script"><link rel="prefetch" href="/assets/js/10.2dcbc0df.js"><link rel="prefetch" href="/assets/js/11.8bef844f.js"><link rel="prefetch" href="/assets/js/12.99e55a8a.js"><link rel="prefetch" href="/assets/js/13.0d2a10a3.js"><link rel="prefetch" href="/assets/js/14.023ea9ca.js"><link rel="prefetch" href="/assets/js/15.512bb7b9.js"><link rel="prefetch" href="/assets/js/16.9c7e4cd0.js"><link rel="prefetch" href="/assets/js/17.6911886c.js"><link rel="prefetch" href="/assets/js/18.d00c9061.js"><link rel="prefetch" href="/assets/js/19.cc239c14.js"><link rel="prefetch" href="/assets/js/20.a5ebb280.js"><link rel="prefetch" href="/assets/js/21.838df16b.js"><link rel="prefetch" href="/assets/js/22.2bb353d0.js"><link rel="prefetch" href="/assets/js/23.637a3b61.js"><link rel="prefetch" href="/assets/js/24.97d17834.js"><link rel="prefetch" href="/assets/js/25.7c1320af.js"><link rel="prefetch" href="/assets/js/26.c2212b69.js"><link rel="prefetch" href="/assets/js/27.6e3b89fc.js"><link rel="prefetch" href="/assets/js/28.80b1140b.js"><link rel="prefetch" href="/assets/js/29.0f0db370.js"><link rel="prefetch" href="/assets/js/31.38f5089d.js"><link rel="prefetch" href="/assets/js/32.3075de8a.js"><link rel="prefetch" href="/assets/js/33.8cb0562d.js"><link rel="prefetch" href="/assets/js/34.16a91910.js"><link rel="prefetch" href="/assets/js/35.e417f247.js"><link rel="prefetch" href="/assets/js/36.652fd2b9.js"><link rel="prefetch" href="/assets/js/37.82eb2ef9.js"><link rel="prefetch" href="/assets/js/38.37e564df.js"><link rel="prefetch" href="/assets/js/39.3e2e1542.js"><link rel="prefetch" href="/assets/js/4.b47cdd70.js"><link rel="prefetch" href="/assets/js/40.977aba58.js"><link rel="prefetch" href="/assets/js/41.12b6e632.js"><link rel="prefetch" href="/assets/js/42.9fd38a93.js"><link rel="prefetch" href="/assets/js/43.9127a5fe.js"><link rel="prefetch" href="/assets/js/44.8edd44ec.js"><link rel="prefetch" href="/assets/js/45.3e7567bf.js"><link rel="prefetch" href="/assets/js/46.02e7c6fa.js"><link rel="prefetch" href="/assets/js/47.af2799b5.js"><link rel="prefetch" href="/assets/js/48.f50bc1f9.js"><link rel="prefetch" href="/assets/js/49.6870ad8c.js"><link rel="prefetch" href="/assets/js/5.abca6286.js"><link rel="prefetch" href="/assets/js/50.da0d924d.js"><link rel="prefetch" href="/assets/js/51.f38add16.js"><link rel="prefetch" href="/assets/js/52.56f979d7.js"><link rel="prefetch" href="/assets/js/53.88af0ee7.js"><link rel="prefetch" href="/assets/js/54.07d74d69.js"><link rel="prefetch" href="/assets/js/55.5de2879b.js"><link rel="prefetch" href="/assets/js/56.77a11e63.js"><link rel="prefetch" href="/assets/js/57.3e5a6a94.js"><link rel="prefetch" href="/assets/js/58.a603ed5c.js"><link rel="prefetch" href="/assets/js/59.e1d844ed.js"><link rel="prefetch" href="/assets/js/6.95182baa.js"><link rel="prefetch" href="/assets/js/60.cf39b382.js"><link rel="prefetch" href="/assets/js/61.d3a007d3.js"><link rel="prefetch" href="/assets/js/62.416083c7.js"><link rel="prefetch" href="/assets/js/63.d540f424.js"><link rel="prefetch" href="/assets/js/64.9de6dad4.js"><link rel="prefetch" href="/assets/js/7.a1995d0c.js"><link rel="prefetch" href="/assets/js/8.c221d590.js"><link rel="prefetch" href="/assets/js/9.0c736f31.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.528ca49b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b1b38d49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/Logo_without_text.png" alt="Wasabi Docs" class="logo"> <span class="site-name can-hide">Wasabi Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/why-wasabi/" class="nav-link">
  Why Wasabi
</a></div><div class="nav-item"><a href="/using-wasabi/" class="nav-link router-link-active">
  Using Wasabi
</a></div><div class="nav-item"><a href="/building-wasabi/" class="nav-link">
  Building Wasabi
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/glossary/" class="nav-link">
  Glossary
</a></div> <a href="https://github.com/zkSNACKs/WasabiDoc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/why-wasabi/" class="nav-link">
  Why Wasabi
</a></div><div class="nav-item"><a href="/using-wasabi/" class="nav-link router-link-active">
  Using Wasabi
</a></div><div class="nav-item"><a href="/building-wasabi/" class="nav-link">
  Building Wasabi
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/glossary/" class="nav-link">
  Glossary
</a></div> <a href="https://github.com/zkSNACKs/WasabiDoc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introducing Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/ELI5.html" class="sidebar-link">Explain Wasabi like I'm 5</a></li><li><a href="/using-wasabi/10Commandments.html" class="sidebar-link">Ten Commandments</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Installing Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/InstallPackage.html" class="sidebar-link">Install package</a></li><li><a href="/using-wasabi/BuildSource.html" class="sidebar-link">Build from source code</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Using Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/WalletGeneration.html" class="sidebar-link">Wallet Generation</a></li><li><a href="/using-wasabi/Receive.html" class="sidebar-link">Receive</a></li><li><a href="/using-wasabi/CoinJoin.html" class="sidebar-link">CoinJoin</a></li><li><a href="/using-wasabi/Send.html" class="sidebar-link">Send</a></li><li><a href="/using-wasabi/ColdWasabi.html" class="sidebar-link">Cold-Wasabi Hardware Wallet Mode</a></li><li><a href="/using-wasabi/BitcoinFullNode.html" class="sidebar-link">Bitcoin Full Node</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Privacy Best Practices</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/ChangeCoins.html" class="active sidebar-link">Change Coins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#types-of-change" class="sidebar-link">Types of change</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#non-coinjoin-change" class="sidebar-link">Non-CoinJoin change</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#first-round-coinjoin-change" class="sidebar-link">First round CoinJoin change</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#second-round-coinjoin-change" class="sidebar-link">Second round CoinJoin change</a></li></ul></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#why-change-is-an-issue" class="sidebar-link">Why change is an issue</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#your-options-to-use-change-privately" class="sidebar-link">Your options to use change privately</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#avoid-change-in-the-first-place" class="sidebar-link">Avoid change in the first place.</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity" class="sidebar-link">Spend the change with another entity, where you don't mind if each of the two know that you transact with the other entity.</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#mix-with-joinmarket" class="sidebar-link">Mix with JoinMarket.</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#open-a-lightning-network-channel" class="sidebar-link">Open a Lightning Network channel.</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#atomic-swap-into-lightning-network" class="sidebar-link">Atomic swap into Lightning Network</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#consolidate-several-change-coins-but-in-a-coinjoin-directly" class="sidebar-link">Consolidate several change coins, but in a CoinJoin directly.</a></li><li class="sidebar-sub-header"><a href="/using-wasabi/ChangeCoins.html#spend-the-change-to-the-same-entity-as-in-the-initial-transaction-but-always-use-a-new-address" class="sidebar-link">Spend the change to the same entity as in the initial transaction, but always use a new address.</a></li></ul></li></ul></li><li><a href="/using-wasabi/Deanonimization.html" class="sidebar-link">How you can be de-anonymized using Bitcoin</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Restoring Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/WalletRecovery.html" class="sidebar-link">Recover Wasabi Wallet</a></li><li><a href="/using-wasabi/RestoreElectrum.html" class="sidebar-link">Restoring Wasabi Wallet to Electrum</a></li><li><a href="/using-wasabi/LostPassword.html" class="sidebar-link">Lost Password Strategy</a></li><li><a href="/using-wasabi/PasswordFinder.html" class="sidebar-link">Password Finder</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced Installing Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/DeterministicBuild.html" class="sidebar-link">Deterministic Build</a></li><li><a href="/using-wasabi/WasabiSetupTails.html" class="sidebar-link">Wasabi Setup on Tails</a></li><li><a href="/using-wasabi/WasabiSetupVM.html" class="sidebar-link">Wasabi Setup in Virtual Machines</a></li><li><a href="/using-wasabi/WasabiSetupWhonix.html" class="sidebar-link">Wasabi Setup using Whonix</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced Using Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/Daemon.html" class="sidebar-link">Headless Wasabi Daemon</a></li><li><a href="/using-wasabi/RPC.html" class="sidebar-link">RPC Interface</a></li><li><a href="/using-wasabi/LurkingWifeMode.html" class="sidebar-link">Lurking Wife Mode</a></li><li><a href="/using-wasabi/LockScreen.html" class="sidebar-link">Lock Screen</a></li><li><a href="/using-wasabi/PasswordBestPractices.html" class="sidebar-link">Password Best Practices</a></li><li><a href="/using-wasabi/BIPs.html" class="sidebar-link">Supported BIPs</a></li><li><a href="/using-wasabi/IndustryStandards.html" class="sidebar-link">Supported Industry Standards</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Research</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/using-wasabi/Joinmarket.html" class="sidebar-link">JoinMarket</a></li><li><a href="/using-wasabi/PayToEndPoint.html" class="sidebar-link">Pay to EndPoint</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="change-coins"><a href="#change-coins" class="header-anchor">#</a> Change coins</h1> <p></p><div class="table-of-contents"><ul><li><a href="#types-of-change">Types of change</a><ul><li><a href="#non-coinjoin-change">Non-CoinJoin change</a></li><li><a href="#first-round-coinjoin-change">First round CoinJoin change</a></li><li><a href="#second-round-coinjoin-change">Second round CoinJoin change</a></li></ul></li><li><a href="#why-change-is-an-issue">Why change is an issue</a></li><li><a href="#your-options-to-use-change-privately">Your options to use change privately</a><ul><li><a href="#avoid-change-in-the-first-place">Avoid change in the first place.</a></li><li><a href="#spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity">Spend the change with another entity, where you don't mind if each of the two know that you transact with the other entity.</a></li><li><a href="#mix-with-joinmarket">Mix with JoinMarket.</a></li><li><a href="#open-a-lightning-network-channel">Open a Lightning Network channel.</a></li><li><a href="#atomic-swap-into-lightning-network">Atomic swap into Lightning Network</a></li><li><a href="#consolidate-several-change-coins-but-in-a-coinjoin-directly">Consolidate several change coins, but in a CoinJoin directly.</a></li><li><a href="#spend-the-change-to-the-same-entity-as-in-the-initial-transaction-but-always-use-a-new-address">Spend the change to the same entity as in the initial transaction, but always use a new address.</a></li></ul></li></ul></div><p></p> <h2 id="types-of-change"><a href="#types-of-change" class="header-anchor">#</a> Types of change</h2> <h3 id="non-coinjoin-change"><a href="#non-coinjoin-change" class="header-anchor">#</a> Non-CoinJoin change</h3> <p>Let's assume you want to send 0.5 bitcoin to Alice.
In the <code>Send</code> tab you select one or more UTXO, these are the inputs of the transaction.
For example, let's assume that you choose a <img src="/ShieldRed.png" alt="red shield" class="shield"> / anonymity set 1 UTXO worth 2 bitcoins.
You put Alice's address in the <code>Receiving Address</code> field, and set the spending <code>Amount</code>.
In this example, we are sending 0.5 bitcoin.
This will be one output of the transaction.</p> <p>Since your chosen UTXO contained 2 bitcoins, after sending 0.5 bitcoin to Alice there will be 1.5 bitcoins remaining from the original amount.
This left over amount will automatically go to a new address in your wallet, and this is called the change output.</p> <p>This leftover 1.5 bitcoins change UTXO is connected to the input UTXO of the transaction, and thus also has an <code>anonymity set</code> of 1.
As a result, when you send this leftover/change coin in a new transaction, it is clear to any observer that you were part of the transaction that sent 0.5 bitcoin to Alice.</p> <p>This process is applicable to any Bitcoin transaction where the <code>sent</code> amount is less than the total value of the input UTXO.</p> <h3 id="first-round-coinjoin-change"><a href="#first-round-coinjoin-change" class="header-anchor">#</a> First round CoinJoin change</h3> <p>Let's say that you have a KYC <img src="/ShieldRed.png" alt="red-shield" class="shield"> <code>anonymity set 1</code> UTXO, and you register it for a CoinJoin round.
Afterwards, depending on the value of your UTXO in relation to the minimum CoinJoin amount and on the value of UTXOs of the other participants, you will receive two or more UTXOs.
One of those will be the change left over from the round, and it will retain the <img src="/ShieldRed.png" alt="red-shield" class="shield"> <code>anonymity set 1</code> designation.
The remaining UTXO(s) will have either a <img src="/ShieldYellow.png" alt="yellow" class="shield">, <img src="/ShieldGreen.png" alt="green" class="shield"> or <img src="/ShieldCheckmark.png" alt="checkmark" class="shield"> shield.
You can see the <code>anonymity set</code> size for any UTXO by hovering your mouse-pointer over its associated shield.
The number represented by 'x' shown in the <img src="/ShieldGreen.png" alt="green-shield" class="shield"> will reflect the anonymity set size for that round.</p> <p>In this example, let's assume that the current minimum amount that can be registered for a CoinJoin round is 0.1 bitcoin.
You happen to have a UTXO worth 0.105 bitcoin, and you select it to be coinjoined.</p> <p>After this CoinJoin round has concluded, you will receive 2 separate UTXOs.
The larger UTXO will have a colored shield (<img src="/ShieldYellow.png" alt="yellow" class="shield">, <img src="/ShieldGreen.png" alt="green" class="shield"> or <img src="/ShieldCheckmark.png" alt="checkmark" class="shield"> based on your <a href="/FAQ/FAQ-UseWasabi.html#how-can-i-change-the-anonset-target">Privacy Level Settings</a>) that indicates the size of the anonymity set achieved in that CoinJoin round.
The other, much smaller UTXO will be the amount (change) that was left over, and it will have a <img src="/ShieldRed.png" alt="red-shield" class="shield"> indicating an anonymity set of <code>1</code> as it does not have the equal value denomination of the CoinJoin.</p> <p>Remember, to have <img src="/ShieldGreen.png" alt="green-shield" class="shield"> UTXOs, all denomination outputs of a CoinJoin round must be equal.
Otherwise, it would be easy to trace any of the output UTXOs back to its original input UTXO.
So, in the vast majority of CoinJoin rounds, there will be at least a small amount of leftover/change after the round has completed.</p> <p>The small UTXO that is leftover/change from a CoinJoin round is clearly tied to your KYC input UTXO, but the <img src="/ShieldGreen.png" alt="green-shield" class="shield"> UTXO is not.
If afterwards, you combine the <img src="/ShieldRed.png" alt="red-shield" class="shield"> UTXO with a <img src="/ShieldGreen.png" alt="green-shield" class="shield"> UTXO in a single transaction, then it is clear that both came from the same owner.
Since your identity was already known in the <img src="/ShieldRed.png" alt="red-shield" class="shield"> <code>anonymity set 1</code>, it can now be linked to your coinjoined UTXO.</p> <p>Whenever you combine and send more than one UTXO in a single transaction, the lowest anonymity set among the inputs becomes the overriding anonymity set for all of the UTXOs used in that transaction.</p> <h3 id="second-round-coinjoin-change"><a href="#second-round-coinjoin-change" class="header-anchor">#</a> Second round CoinJoin change</h3> <p>When you take a 100 anonset UTXO, and you CoinJoin it again in a new 100 participant round, then you receive one UTXO with new, combined anonset of 200, and one leftover/change UTXO with same anonset as the input UTXO: 100.
The change UTXO still has an anonset 100 because it is the leftover, non-coinjoined change output of a second CoinJoin that used the 100 anonset UTXO as beginning input.
This change can still reveal premix history which is another CoinJoin, but ownership analysis cannot go further back than the first CoinJoin.</p> <p>It is ok to use and spend this change output.
Depending on who you are sending to, and what level of privacy you desire in that transaction, you could choose to send your coins with an anonset of 100, or for even more privacy, you can choose to send the coins with an anonset of 200.
Just remember that if you consolidate the two in the same transaction, your effective anonymity set will be the lower anonymity set number of the selected coins, in this case 100.</p> <h2 id="why-change-is-an-issue"><a href="#why-change-is-an-issue" class="header-anchor">#</a> Why change is an issue</h2> <p>Change is not inherently bad, it's a fundamental part of how Bitcoin and the UTXO model works.
However, when sending a coin that is change from an earlier transaction, then the receiver can easily deduce that the sender was also part of the previous transaction that generated the change.</p> <p>Whenever you are merging coins in one transaction, it becomes clear to any outside observer that these coins belong to the same entity, thus linking the previous transaction history.
Thus <a href="/why-wasabi/Coins.html#heuristics-identifying-change">identifying change</a> based on some heuristics is a top goal of transaction surveillance.</p> <p>You want to avoid merging <code>anonymity set 1</code> coins with <code>anonymity set &gt; 1</code> mixed coins whenever possible, because this will link these coins, and negate the privacy of the mixed coins that was gained through the CoinJoin.</p> <h2 id="your-options-to-use-change-privately"><a href="#your-options-to-use-change-privately" class="header-anchor">#</a> Your options to use change privately</h2> <h3 id="avoid-change-in-the-first-place"><a href="#avoid-change-in-the-first-place" class="header-anchor">#</a> Avoid change in the first place.</h3> <p>Whenever possible, choose UTXO's for transactions where the destination addresses receive the entire value of your UTXO's, and you don't get any change back.
This can easily be done by clicking the <code>Max</code> button in the <code>Send</code> tab, which will automatically deduct the mining fee and send the highest amount possible to the destination.
This might not be possible in some cases where you have to pay a specific value of a payment request.</p> <p>However, in other cases it is possible, for example donations or when depositing to an exchange.
Consider supporting invaluable projects like <a href="https://donate.torproject.org/cryptocurrency" target="_blank" rel="noopener noreferrer">The Tor Project<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://supporters.eff.org/donate/donate" target="_blank" rel="noopener noreferrer">the Electronic Frontier Foundation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
You can find a list of organizations that accept Bitcoin donations <a href="https://en.bitcoin.it/wiki/Donation-accepting_organizations_and_projects" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity"><a href="#spend-the-change-with-another-entity-where-you-don-t-mind-if-each-of-the-two-know-that-you-transact-with-the-other-entity" class="header-anchor">#</a> Spend the change with another entity, where you don't mind if each of the two know that you transact with the other entity.</h3> <p>For example, if you buy something from Alice that costs 0.03 bitcoin, and you choose a UTXO in your wallet containing 0.1 bitcoin to use for payment.
Alice receives her 0.03 bitcoin, and the remaining change 0.07 bitcoin is assigned to another address in your wallet.
Since Alice knows the details of the transaction, she knows that the 0.07 bitcoin at that address belongs to you.</p> <p>When you later spend these 0.07 bitcoin to an address, Alice knows that you are involved in this transaction, and she could potentially use that information against you.</p> <h3 id="mix-with-joinmarket"><a href="#mix-with-joinmarket" class="header-anchor">#</a> Mix with JoinMarket.</h3> <p>In <a href="https://github.com/JoinMarket-Org/joinmarket-clientserver" target="_blank" rel="noopener noreferrer">JoinMarket<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as a <code>market taker</code> you can specify exactly what denomination of equal value outputs are generated in the CoinJoin.
So you can send the Wasabi change to your JoinMarket wallet and take an offer to mix for some number of rounds.</p> <p>The coins you will receive after the JoinMarket tumbling algorithm will have a sufficient anonymity set, and you can use them for spending again.</p> <h3 id="open-a-lightning-network-channel"><a href="#open-a-lightning-network-channel" class="header-anchor">#</a> Open a Lightning Network channel.</h3> <p>The Lightning Network can be a very private way of sending bitcoin, and you can choose the channel size to be exactly the size of your change coin.
However, it is very important that you do not link this non-private coin to your main Lightning node public key.</p> <p>So, a good strategy is to create a new Lightning node and public key, send the whole change coin into this fresh wallet, and open a private channel of this amount to a random peer on the network.
Then route a payment either to a merchant for goods and services, or to your own main Lightning node for further use.</p> <p>After the balance of the channel is entirely on the other side, cooperatively close the channel with your peer, so that he gets the only output in the closing transaction.</p> <p>Since Wasabi does not yet support Lightning Network functionality, you must use a different wallet for this task.</p> <h3 id="atomic-swap-into-lightning-network"><a href="#atomic-swap-into-lightning-network" class="header-anchor">#</a> Atomic swap into Lightning Network</h3> <p>There are some services that provide an atomic swap where you send the whole change coin to a multisignature hashed time locked contract on-chain.
In exchange, you receive a payment routed through the Lightning Network into one of your payment channels.</p> <p>The swap is atomic, meaning either you receive the lightning payment, or you get the bitcoin back on-chain, so the service provider cannot steal from you.
If you use a regular Lightning invoice to receive the funds, then the service provider knows your node's public key and the channel he sends the bitcoin to.</p> <p>For much better privacy, use rendezvous routing so that the sender does not gain knowledge of your receiving node.
Also ensure that the communication with the swap server is done over the tor network.</p> <h3 id="consolidate-several-change-coins-but-in-a-coinjoin-directly"><a href="#consolidate-several-change-coins-but-in-a-coinjoin-directly" class="header-anchor">#</a> Consolidate several change coins, but in a CoinJoin directly.</h3> <p>If you consolidate many change coins in a regular non-CoinJoin transaction in the <code>Send</code> tab, then any outside observer can easily see that one user controls all these coins.
But when consolidating in a CoinJoin directly, because there are hundreds of randomly ordered inputs in a Wasabi CoinJoin transaction, it is no longer easy to find out which coins belong to one single user.</p> <p>However, a well resourced attacker can perform <a href="/FAQ/FAQ-GeneralBitcoinPrivacy.html#what-is-a-coinjoin-sudoku">CoinJoin sudoku</a> to find out which of the many inputs fund the change output.
Further, during the <a href="/FAQ/FAQ-UseWasabi.html#what-is-happening-in-the-input-registration-phase">input registration phase</a>, your wallet provides an input proof for all the registered coins to the coordinator.
Thus the coordinator knows that you control all these coins, and although zkSNACKs claims to not keep any logs, it is a reasonable assumption that everyone knows what the coordinator knows.</p> <p>For these reasons it is not recommended that you consolidate change coins.
That said, consolidating your change in a CoinJoin is strictly more private and efficient than consolidating in a regular sending transaction.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Remember that a Wasabi CoinJoin gives you back an anonymous coin (<img src="/ShieldYellow.png" alt="yellow" class="shield"> <img src="/ShieldGreen.png" alt="green" class="shield"> <img src="/ShieldCheckmark.png" alt="checkmark" class="shield">), based on your <a href="/FAQ/FAQ-UseWasabi.html#how-can-i-change-the-anonset-target">Privacy Level Settings</a>) and a non-anonymous (<img src="/ShieldRed.png" alt="red" class="shield">) change coin.
The resulting non-anonymous change coin could be linked to the inputs (which are, in this specific case, derived from multiple change outputs of previous CoinJoins).
Once a Wasabi CoinJoin is made, it is no longer possible to connect the inputs to the equal value outputs; even if the inputs are in turn consolidated change outputs.</p></div> <h3 id="spend-the-change-to-the-same-entity-as-in-the-initial-transaction-but-always-use-a-new-address"><a href="#spend-the-change-to-the-same-entity-as-in-the-initial-transaction-but-always-use-a-new-address" class="header-anchor">#</a> Spend the change to the same entity as in the initial transaction, but always use a new address.</h3> <p>So, if in the first transaction you have 0.10 bitcoin and send Alice 0.04 bitcoin, you get 0.06 bitcoin back as change in a new address, which Alice can see belongs to you.
Now, in a second transaction where you want to send Alice 0.05 bitcoin, you can select that 0.06 bitcoin change coin without losing any privacy, because Alice already knows this is your coin.</p> <p>In this second transaction you will get back 0.01 bitcoin as change, which again, will still be known to Alice.
If, in a third transaction you want to send Alice 0.02 bitcoin, then you can consolidate the 0.01 bitcoin change with a new 0.10 bitcoin mixed coin, thus getting 0.09 bitcoin change.</p> <p>Now Alice will know that you owned the 0.10 bitcoin and that you currently own the 0.09 bitcoin change, but she cannot find out about your premix transaction history.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zkSNACKs/WasabiDoc/edit/master/docs/using-wasabi/ChangeCoins.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/16/2020, 4:20:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/using-wasabi/BitcoinFullNode.html" class="prev">
        Bitcoin Full Node
      </a></span> <span class="next"><a href="/using-wasabi/Deanonimization.html">
        How you can be de-anonymized using Bitcoin
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.7dd49773.js" defer></script><script src="/assets/js/3.b572bdb5.js" defer></script><script src="/assets/js/30.5ca1d111.js" defer></script>
  </body>
</html>
