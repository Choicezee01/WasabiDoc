<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Coding Conventions | Wasabi Docs</title>
    <meta name="description" content="A collection of all the coding conventions that contributors should take care to follow. This is the Wasabi documentation, an archive of knowledge about the open-source, non-custodial and privacy-focused Bitcoin wallet for desktop.">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#211b24">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Playfair+Display:700&amp;display=swap">
  <meta name="msapplication-TileColor" content="#211b24">
  <meta name="theme-color" content="#211b24">
    
    <link rel="preload" href="/assets/css/0.styles.49349890.css" as="style"><link rel="preload" href="/assets/js/app.b1e47f78.js" as="script"><link rel="preload" href="/assets/js/3.9685d311.js" as="script"><link rel="preload" href="/assets/js/15.2150c055.js" as="script"><link rel="prefetch" href="/assets/js/10.151e0d7a.js"><link rel="prefetch" href="/assets/js/11.8044d7cb.js"><link rel="prefetch" href="/assets/js/12.635fbe58.js"><link rel="prefetch" href="/assets/js/13.44ad55e9.js"><link rel="prefetch" href="/assets/js/14.d136b58c.js"><link rel="prefetch" href="/assets/js/16.827f375c.js"><link rel="prefetch" href="/assets/js/17.f9cb94bf.js"><link rel="prefetch" href="/assets/js/18.74405c9a.js"><link rel="prefetch" href="/assets/js/19.8fb2bce1.js"><link rel="prefetch" href="/assets/js/20.1a588806.js"><link rel="prefetch" href="/assets/js/21.7c76920e.js"><link rel="prefetch" href="/assets/js/22.2289b826.js"><link rel="prefetch" href="/assets/js/23.03c48980.js"><link rel="prefetch" href="/assets/js/24.2901c99a.js"><link rel="prefetch" href="/assets/js/25.e3c60be6.js"><link rel="prefetch" href="/assets/js/26.15380f69.js"><link rel="prefetch" href="/assets/js/27.c71a8738.js"><link rel="prefetch" href="/assets/js/28.6d443d94.js"><link rel="prefetch" href="/assets/js/29.eddd157a.js"><link rel="prefetch" href="/assets/js/30.b4d6597d.js"><link rel="prefetch" href="/assets/js/31.b114846d.js"><link rel="prefetch" href="/assets/js/32.f364333f.js"><link rel="prefetch" href="/assets/js/33.509c35c8.js"><link rel="prefetch" href="/assets/js/34.2876998e.js"><link rel="prefetch" href="/assets/js/35.3458bb44.js"><link rel="prefetch" href="/assets/js/36.08b7d79c.js"><link rel="prefetch" href="/assets/js/37.e6b5493e.js"><link rel="prefetch" href="/assets/js/38.58356895.js"><link rel="prefetch" href="/assets/js/39.811b1ecb.js"><link rel="prefetch" href="/assets/js/4.f2a73176.js"><link rel="prefetch" href="/assets/js/40.f8d0e818.js"><link rel="prefetch" href="/assets/js/41.12a74ae5.js"><link rel="prefetch" href="/assets/js/42.1ea52263.js"><link rel="prefetch" href="/assets/js/43.a321dcfb.js"><link rel="prefetch" href="/assets/js/44.7e7c99ca.js"><link rel="prefetch" href="/assets/js/45.df9714c5.js"><link rel="prefetch" href="/assets/js/46.9d0eaab2.js"><link rel="prefetch" href="/assets/js/47.5d1f62ea.js"><link rel="prefetch" href="/assets/js/48.69eeff1d.js"><link rel="prefetch" href="/assets/js/49.9266662d.js"><link rel="prefetch" href="/assets/js/5.b65553f0.js"><link rel="prefetch" href="/assets/js/50.583645bc.js"><link rel="prefetch" href="/assets/js/51.8c3f31eb.js"><link rel="prefetch" href="/assets/js/52.8e8b1f67.js"><link rel="prefetch" href="/assets/js/53.21cf316f.js"><link rel="prefetch" href="/assets/js/54.a91d53ba.js"><link rel="prefetch" href="/assets/js/55.34ab3578.js"><link rel="prefetch" href="/assets/js/56.7974d645.js"><link rel="prefetch" href="/assets/js/57.2467666d.js"><link rel="prefetch" href="/assets/js/58.7f5b861c.js"><link rel="prefetch" href="/assets/js/59.fa398db0.js"><link rel="prefetch" href="/assets/js/6.31c5f1bf.js"><link rel="prefetch" href="/assets/js/60.159d4612.js"><link rel="prefetch" href="/assets/js/61.4feb558b.js"><link rel="prefetch" href="/assets/js/62.537c337d.js"><link rel="prefetch" href="/assets/js/63.bc1b86c9.js"><link rel="prefetch" href="/assets/js/64.187c3aa4.js"><link rel="prefetch" href="/assets/js/7.f4b095fc.js"><link rel="prefetch" href="/assets/js/8.a68dee1c.js"><link rel="prefetch" href="/assets/js/9.b67e43d0.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.b99959b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49349890.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/Logo_without_text.png" alt="Wasabi Docs" class="logo"> <span class="site-name can-hide">Wasabi Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/why-wasabi/" class="nav-link">
  Why Wasabi
</a></div><div class="nav-item"><a href="/using-wasabi/" class="nav-link">
  Using Wasabi
</a></div><div class="nav-item"><a href="/building-wasabi/" class="nav-link router-link-active">
  Building Wasabi
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/glossary/" class="nav-link">
  Glossary
</a></div> <a href="https://github.com/zkSNACKs/WasabiDoc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/why-wasabi/" class="nav-link">
  Why Wasabi
</a></div><div class="nav-item"><a href="/using-wasabi/" class="nav-link">
  Using Wasabi
</a></div><div class="nav-item"><a href="/building-wasabi/" class="nav-link router-link-active">
  Building Wasabi
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/glossary/" class="nav-link">
  Glossary
</a></div> <a href="https://github.com/zkSNACKs/WasabiDoc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Building Wasabi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/building-wasabi/TechnicalOverview.html" class="sidebar-link">Technical Overview of Wasabi Wallet</a></li><li><a href="/building-wasabi/ContributionChecklist.html" class="sidebar-link">Contribution Checklist</a></li><li><a href="/building-wasabi/Dojo.html" class="sidebar-link">Dojo</a></li><li><a href="/building-wasabi/ToDo.html" class="sidebar-link">ToDo List</a></li><li><a href="/building-wasabi/CodingConventions.html" class="active sidebar-link">Coding Conventions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#codemaid" class="sidebar-link">CodeMaid</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#editorconfig" class="sidebar-link">.editorconfig</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#refactoring" class="sidebar-link">Refactoring</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#comments" class="sidebar-link">Comments</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#asynchronous-locking" class="sidebar-link">Asynchronous Locking</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#null-check" class="sidebar-link">Null Check</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#blocking" class="sidebar-link">Blocking</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#async-void" class="sidebar-link">async void</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#disposing-subscriptions-in-reactiveobjects" class="sidebar-link">Disposing Subscriptions in ReactiveObjects</a></li><li class="sidebar-sub-header"><a href="/building-wasabi/CodingConventions.html#observableaspropertyhelpers-over-properties" class="sidebar-link">ObservableAsPropertyHelpers Over Properties</a></li></ul></li><li><a href="/building-wasabi/ContributionGame.html" class="sidebar-link">Contribution Game</a></li><li><a href="/building-wasabi/FalsePositive.html" class="sidebar-link">False positive</a></li><li><a href="/building-wasabi/Security.html" class="sidebar-link">Security Policy</a></li><li><a href="/building-wasabi/CodeCoverage.html" class="sidebar-link">Code Coverage</a></li><li><a href="/building-wasabi/HardwareWalletTestingGuide.html" class="sidebar-link">Hardware Wallet Integration Testing</a></li><li><a href="/building-wasabi/HowToDebug.html" class="sidebar-link">Developers debugging Guide</a></li><li><a href="/building-wasabi/Ports.html" class="sidebar-link">Ports</a></li><li><a href="/building-wasabi/LICENSE.html" class="sidebar-link">MIT License</a></li><li><a href="/building-wasabi/Credits.html" class="sidebar-link">Credits</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="coding-conventions"><a href="#coding-conventions" class="header-anchor">#</a> Coding Conventions</h1> <p></p><div class="table-of-contents"><ul><li><a href="#codemaid">CodeMaid</a></li><li><a href="#editorconfig">.editorconfig</a></li><li><a href="#refactoring">Refactoring</a></li><li><a href="#comments">Comments</a></li><li><a href="#asynchronous-locking">Asynchronous Locking</a></li><li><a href="#null-check">Null Check</a></li><li><a href="#blocking">Blocking</a></li><li><a href="#async-void">async void</a></li><li><a href="#disposing-subscriptions-in-reactiveobjects">Disposing Subscriptions in ReactiveObjects</a></li><li><a href="#observableaspropertyhelpers-over-properties">ObservableAsPropertyHelpers Over Properties</a></li></ul></div><p></p> <hr> <h2 id="codemaid"><a href="#codemaid" class="header-anchor">#</a> CodeMaid</h2> <p><strong>DO</strong> use <a href="http://www.codemaid.net/" target="_blank" rel="noopener noreferrer">CodeMaid<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, a Visual Studio extension to automatically clean up your code on saving the file.</p> <p>CodeMaid is a non-intrusive code cleanup tool.
Wasabi's CodeMaid settings <a href="https://github.com/zkSNACKs/WalletWasabi/blob/master/CodeMaid.config" target="_blank" rel="noopener noreferrer">can be found in the root of the repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, and are automatically picked up by Visual Studio when you open the project, assuming the CodeMaid extension is installed.
Unfortunately CodeMaid has no Visual Studio Code extension yet.
You can check out the progress on this <a href="https://github.com/codecadwallader/codemaid/issues/273" target="_blank" rel="noopener noreferrer">under this GitHub issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="editorconfig"><a href="#editorconfig" class="header-anchor">#</a> .editorconfig</h2> <p>Not only CodeMaid, but Visual Studio also enforces certain code style through <a href="https://github.com/zkSNACKs/WalletWasabi/blob/master/.editorconfig" target="_blank" rel="noopener noreferrer"><code>.editorconfig</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> file.</p> <p>If you are using Visual Studio code, please <strong>DO</strong> install the <a href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig" target="_blank" rel="noopener noreferrer">editorconfig extension<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for it to make sure your coding style will resemble to ours.</p> <h2 id="refactoring"><a href="#refactoring" class="header-anchor">#</a> Refactoring</h2> <p>If you are a new contributor <strong>DO</strong> keep refactoring pull requests short, uncomplex and easy to verify.
It requires a certain level of experience to know where the code belongs to and to understand the full ramification (including rebase effort of open pull requests) - <a href="https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#refactoring" target="_blank" rel="noopener noreferrer">source<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="comments"><a href="#comments" class="header-anchor">#</a> Comments</h2> <p><strong>DO</strong> follow <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/inside-a-program/coding-conventions#commenting-conventions" target="_blank" rel="noopener noreferrer">Microsoft's C# commenting conventions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <ul><li>Place the comment on a separate line, not at the end of a line of code.</li> <li>Begin comment text with an uppercase letter.</li> <li>End comment text with a period.</li> <li>Insert one space between the comment delimiter (<code>//</code>) and the comment text, as shown in the following example.</li> <li>Do not create formatted blocks of asterisks around comments.</li></ul> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token comment">// The following declaration creates a query. It does not run</span>
<span class="token comment">// the query.</span>
</code></pre></div><h2 id="asynchronous-locking"><a href="#asynchronous-locking" class="header-anchor">#</a> Asynchronous Locking</h2> <p><strong>DO NOT</strong> use mix awaitable and non-awaitable locks.</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token comment">// GOOD</span>
<span class="token keyword">private</span> <span class="token class-name">AsyncLock</span> AsyncLock <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AsyncLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">await</span> AsyncLock<span class="token punctuation">.</span><span class="token function">LockAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token comment">// GOOD</span>
<span class="token keyword">private</span> <span class="token keyword">object</span> Lock <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">lock</span> <span class="token punctuation">(</span>Lock<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token comment">// BAD</span>
<span class="token keyword">using</span> <span class="token punctuation">(</span>AsyncLock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="null-check"><a href="#null-check" class="header-anchor">#</a> Null Check</h2> <p><strong>DO</strong> use <code>is null</code> instead of <code>== null</code>.
It was a performance consideration in the past but from C# 7.0 it does not matter anymore, today we use this convention to keep our code consistent.</p> <div class="language-cs extra-class"><pre class="language-cs"><code>	<span class="token keyword">if</span> <span class="token punctuation">(</span>foo <span class="token keyword">is</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="blocking"><a href="#blocking" class="header-anchor">#</a> Blocking</h2> <p><strong>DO NOT</strong> block with <code>.Result, .Wait(), .GetAwaiter().GetResult()</code>.
Never.</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token comment">// BAD</span>
IoHelpers<span class="token punctuation">.</span><span class="token function">DeleteRecursivelyWithMagicDustAsync</span><span class="token punctuation">(</span>Folder<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetAwaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="async-void"><a href="#async-void" class="header-anchor">#</a> <code>async void</code></h2> <p><strong>DO NOT</strong> <code>async void</code>, except for event subscriptions.
<code>async Task</code> instead.
<strong>DO</strong> <code>try catch</code> in <code>async void</code>, otherwise the software can crash.</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token punctuation">{</span>
	MyClass<span class="token punctuation">.</span>SomethingHappened <span class="token operator">+=</span> MyClass_OnSomethingHappenedAsync<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// GOOD</span>
<span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token keyword">void</span> <span class="token function">Synchronizer_ResponseArrivedAsync</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> <span class="token class-name">EventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">try</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">await</span> <span class="token function">FooAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		Logger<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">LogError</span><span class="token punctuation">&lt;</span><span class="token class-name">MyClass2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="disposing-subscriptions-in-reactiveobjects"><a href="#disposing-subscriptions-in-reactiveobjects" class="header-anchor">#</a> Disposing Subscriptions in ReactiveObjects</h2> <p><strong>DO</strong> follow <a href="https://reactiveui.net/docs/guidelines/framework/dispose-your-subscriptions" target="_blank" rel="noopener noreferrer">ReactiveUI's Subscription Disposing Conventions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p><strong>DO</strong> dispose your subscription if you are referencing another object.
<strong>DO</strong> use the <code>.DisposeWith()</code> method.</p> <div class="language-cs extra-class"><pre class="language-cs"><code>Observable<span class="token punctuation">.</span><span class="token function">FromEventPattern</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">ObserveOn</span><span class="token punctuation">(</span>RxApp<span class="token punctuation">.</span>MainThreadScheduler<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">Subscribe</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">DisposeWith</span><span class="token punctuation">(</span>Disposables<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>DO NOT</strong> dispose your subscription if a component exposes an event and also subscribes to it itself.
That's because the subscription is manifested as the component having a reference to itself.
Same is true with Rx.
If you're a VM and you e.g. WhenAnyValue against your own property, there's no need to clean that up because that is manifested as the VM having a reference to itself.</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">WhenAnyValue</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">ObserveOn</span><span class="token punctuation">(</span>RxApp<span class="token punctuation">.</span>MainThreadScheduler<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">Subscribe</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="observableaspropertyhelpers-over-properties"><a href="#observableaspropertyhelpers-over-properties" class="header-anchor">#</a> ObservableAsPropertyHelpers Over Properties</h2> <p><strong>DO</strong> follow <a href="https://reactiveui.net/docs/guidelines/framework/prefer-oaph-over-properties" target="_blank" rel="noopener noreferrer">ReactiveUI's Oaph Over Properties Principle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p><strong>DO</strong> use  <code>ObservableAsPropertyHelper</code> with <code>WhenAny</code> when a property's value depends on another property, a set of properties, or an observable stream, rather than set the value explicitly.</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RepositoryViewModel</span> <span class="token punctuation">:</span> <span class="token class-name">ReactiveObject</span>
<span class="token punctuation">{</span>
  <span class="token keyword">private</span> ObservableAsPropertyHelper<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> _canDoIt<span class="token punctuation">;</span>
  
  <span class="token keyword">public</span> <span class="token function">RepositoryViewModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    _canDoIt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">WhenAnyValue</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">ToProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>CanDoIt<span class="token punctuation">,</span> scheduler<span class="token punctuation">:</span> RxApp<span class="token punctuation">.</span>MainThreadScheduler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">public</span> <span class="token keyword">bool</span> CanDoIt <span class="token operator">=&gt;</span> _canDoIt<span class="token punctuation">?.</span>Value <span class="token operator">??</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>DO</strong> always subscribe to these <code>ObservableAsPropertyHelper</code>s after their initialization is done.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zkSNACKs/WasabiDoc/edit/master/docs/building-wasabi/CodingConventions.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/11/2019, 9:52:21 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/building-wasabi/ToDo.html" class="prev">
        ToDo List
      </a></span> <span class="next"><a href="/building-wasabi/ContributionGame.html">
        Contribution Game
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b1e47f78.js" defer></script><script src="/assets/js/3.9685d311.js" defer></script><script src="/assets/js/15.2150c055.js" defer></script>
  </body>
</html>
